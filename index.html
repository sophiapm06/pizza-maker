
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sophia's Pizzariea â€¢ Cutscene Flow + Levels (v6.1)</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Intro (photo stays the same) -->
  <div id="startScreen" class="screen">
    <div class="intro">
      <div class="intro-wrap">
        <figure class="avatar-frame" aria-label="Animated intro avatar">
          <img src="full_arm_wave.gif" alt="Intro avatar" class="avatar-img" />
        </figure>
        <div class="intro-bubble" role="text">Hi, welcome to Sophiaâ€™s Pizzariea â€” please come to the kitchen! ğŸ‘‹</div>
      </div>
      <p class="tagline">Click the Play button to start.</p>
    </div>
    <button id="btnPlay" class="btn primary">â–¶ Play</button>
  </div>

  <!-- Customer Cutscene (v4-style military avatar) -->
  <div id="customerScreen" class="screen hidden">
    <div class="customer-stage">
      <div class="customer-figure">
        <svg viewBox="0 0 240 240" class="big-customer">
          <circle cx="120" cy="120" r="110" fill="#ffdbe9" />
          <circle cx="120" cy="84" r="32" fill="#c48a60" stroke="#a56f47" stroke-width="2" />
          <circle cx="108" cy="82" r="5" fill="#3a2a1e" />
          <circle cx="132" cy="82" r="5" fill="#3a2a1e" />
          <rect id="custMouthTalk" x="114" y="98" width="12" height="5" rx="2" fill="#6e472b" />
          <rect x="96" y="56" width="48" height="14" rx="7" fill="#39424a" />
          <rect x="92" y="120" width="60" height="64" rx="12" fill="#7a8b7c" />
          <rect x="98" y="128" width="24" height="9" fill="#a6b3a8" opacity="0.85" />
          <rect x="122" y="142" width="26" height="9" fill="#626c61" opacity="0.85" />
          <rect x="104" y="156" width="34" height="9" fill="#9aa69a" opacity="0.85" />
          <rect x="132" y="134" width="22" height="9" fill="#6c786d" opacity="0.85" />
          <g class="salute-arm" transform="translate(152,126)">
            <rect x="0" y="0" width="16" height="30" rx="8" fill="#7a8b7c" />
            <rect x="8" y="-2" width="12" height="34" rx="7" fill="#7a8b7c" transform="rotate(-35)" />
          </g>
          <rect x="84" y="126" width="16" height="44" rx="8" fill="#7a8b7c" />
        </svg>
      </div>
      <div id="customerBubble" class="speech-bubble">â€¦</div>
      <div class="stage-controls">
        <button id="btnSpeakOrder" class="btn">ğŸ”ˆ Speak</button>
        <button id="btnContinue" class="btn primary">â¡ Continue to Kitchen</button>
      </div>
    </div>
  </div>

  <!-- HUD -->
  <header id="hud" class="hidden">
    <div class="hud-item">ğŸ“ Level: <span id="level">1</span>/3</div>
    <div class="hud-item">â±ï¸ Time: <span id="time">60</span>s</div>
    <div class="hud-item">ğŸ’µ Tips: $<span id="tips">0</span></div>
    <div class="hud-item">ğŸ”¥ Streak: <span id="streak">0</span></div>
  </header>

  <!-- Kitchen game: 3-column layout (Order | Pizza | Toppings) -->
  <main id="game" class="hidden">
    <section class="work-area three">
      <!-- Left: Order Ticket -->
      <aside class="order-card card compact" id="orderCard">
        <h2>Order Ticket</h2>
        <ul id="orderList" class="order-list"></ul>
        <div class="order-notes" id="orderNotes"></div>
      </aside>

      <!-- Middle: Pizza prep -->
      <section class="kitchen card">
        <h2>Pizza</h2>
        <div id="pizzaArea" class="pizza-area" role="region" aria-label="Pizza prep area">
          <div class="pizza-base" aria-hidden="true"></div>
        </div>
        <div class="controls">
          <button id="btnUndo" class="btn">â†© Undo</button>
          <button id="btnClear" class="btn">ğŸ§¼ Clear</button>
          <button id="btnBake" class="btn success">ğŸ”¥ Bake & Serve</button>
        </div>
        <div id="feedback" class="feedback" aria-live="polite"></div>
      </section>

      <!-- Right: Toppings palette -->
      <aside class="palette card" id="palette">
        <h2>Toppings</h2>
        <div class="topping-list" id="toppingList"></div>
      </aside>
    </section>
  </main>

  <!-- End screen -->
  <div id="endScreen" class="screen hidden">
    <h2>Shift Complete! ğŸ›ï¸</h2>
    <p>Total tips: $<strong id="finalTips">0</strong></p>
    <p id="finalMsg"></p>
    <button id="btnRestart" class="btn primary">ğŸ” Play Again</button>
  </div>

  <footer class="app-footer">
    <details>
      <summary>How to Play</summary>
      <ul>
        <li>Press <strong>Play</strong> to meet the customer and hear their order.</li>
        <li>Kitchen layout is <strong>Order (left)</strong>, <strong>Pizza (middle)</strong>, <strong>Toppings (right)</strong>.</li>
        <li>Three levels: 60s each â€” Level 1 (4 toppings), Level 2 (8), Level 3 (12).</li>
        <li>Drag or click toppings; then <strong>Bake & Serve</strong>.</li>
        <li>After each level, tips add up; final screen shows your total and outcome.</li>
      </ul>
    </details>
  </footer>

  <script src="script.js" defer></script>
</body>
</html>
