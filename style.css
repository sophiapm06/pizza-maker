
:root { --bg:#fff5f9; --text:#3b224c; --accent:#ff4d8d; --success:#8bd4a6; --card:#fff; --shadow:0 10px 24px rgba(0,0,0,.18) }
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--text)}
.hidden{display:none!important}

/* Intro basics (unchanged) */
.screen{display:grid;place-items:center;min-height:100vh;padding:24px;text-align:center}
.intro{display:grid;gap:14px;justify-items:center}
.intro-wrap{display:flex;align-items:center;gap:16px}
.avatar-frame{position:relative;width:min(60vw,360px)}
.avatar-img{width:100%;height:auto;display:block;filter:drop-shadow(0 8px 18px rgba(0,0,0,.25));transform-origin:50% 90%;animation:sway 3.2s ease-in-out infinite, float 5s ease-in-out infinite}
@keyframes sway{0%,100%{transform:rotate(-1.5deg)}50%{transform:rotate(1.5deg)}}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-3px)}}
.btn{appearance:none;border:none;border-radius:12px;padding:10px 16px;font-weight:700;cursor:pointer;background:var(--accent);color:#fff;box-shadow:var(--shadow)}
.btn.success{background:var(--success);color:#203d2f}

/* Customer cutscene (animations retained) */
.customer-stage{display:grid;gap:12px;justify-items:center}
.customer-figure{width:min(80vw,360px)}
.speech-bubble{background:#fff;border:2px solid #ffc2da;border-radius:12px;padding:10px 12px;box-shadow:var(--shadow);max-width:650px;color:var(--text)}
.speaking .big-customer{animation:headBob 1.2s ease-in-out infinite}
@keyframes headBob{0%,100%{transform:translateY(0)}50%{transform:translateY(-2px)}}
.speaking .salute-arm{animation:salutePulse 1.1s ease-in-out infinite}
@keyframes salutePulse{0%,100%{transform:translate(152px,126px) rotate(-12deg)}50%{transform:translate(152px,126px) rotate(-24deg)}}
.speaking #custMouthTalk{animation:mouthTalk .22s steps(3) infinite}
@keyframes mouthTalk{0%{height:5px;width:12px}50%{height:11px;width:10px}100%{height:5px;width:12px}}

/* HUD */
#hud{position:sticky;top:0;display:flex;gap:24px;align-items:center;justify-content:center;padding:12px;background:rgba(255,255,255,.85);backdrop-filter:blur(6px);box-shadow:var(--shadow)}
.hud-item{font-weight:700}

/* 3-column kitchen */
.work-area.three{display:grid;grid-template-columns:300px 1fr 300px;gap:16px;padding:16px;max-width:1200px;margin:0 auto}
.card{background:var(--card);border-radius:16px;padding:16px;box-shadow:var(--shadow);border:1px solid #ffd0e4}
.card h2{margin:0 0 8px}

/* Realistic pizza */
.pizza-area{position:relative;width:min(90vw,560px);height:min(90vw,560px);margin-inline:auto;border-radius:16px;background:#fbeeee;box-shadow:var(--shadow)}
.pizza-base{position:absolute;inset:30px;border-radius:50%;
  background:
    radial-gradient(circle at 50% 50%, #f9d4a8 0 46%, #c79055 47% 52%, #a56a34 53% 60%), /* crust */
    radial-gradient(circle at 50% 50%, #d83a3a 0 33%, transparent 34%),                 /* sauce */
    radial-gradient(circle at 35% 40%, rgba(255,255,255,.85) 0 8px, transparent 9px),
    radial-gradient(circle at 65% 55%, rgba(255,255,255,.8) 0 10px, transparent 11px),
    radial-gradient(circle at 45% 65%, rgba(255,255,255,.75) 0 9px, transparent 10px),
    radial-gradient(circle at 60% 35%, rgba(255,255,255,.85) 0 7px, transparent 8px);
}
.topping-placed{position:absolute;transform-origin:center;user-select:none;pointer-events:none}

/* CHEESE (visible pieces) */
.top-cheese{width:24px;height:16px;border-radius:8px;background:linear-gradient(#fff7bf,#ffd66b);box-shadow:inset 0 0 3px rgba(0,0,0,.2)}

/* Pepperoni */
.top-pepperoni{width:32px;height:32px;border-radius:50%;background:radial-gradient(circle at 30% 30%,#b93939 0 8px,#8c1f1f 9px 16px,#5a0f0f 17px 32px);box-shadow:inset 0 0 4px rgba(0,0,0,.25),0 2px 4px rgba(0,0,0,.2)}
/* Mushroom */
.top-mushroom{width:30px;height:28px;position:absolute}
.top-mushroom::before{content:"";position:absolute;left:0;top:0;width:30px;height:18px;border-radius:18px 18px 10px 10px;background:linear-gradient(#e7d2b1,#c9ab81)}
.top-mushroom::after{content:"";position:absolute;left:12px;top:14px;width:8px;height:12px;border-radius:4px;background:#c9ab81}
/* Bell pepper */
.top-pepper{width:32px;height:32px;border:4px solid #2da34a;border-radius:50%;background:transparent;box-shadow:inset 0 0 2px rgba(0,0,0,.2)}
/* Pineapple */
.top-pineapple{width:24px;height:18px;border-radius:4px;background:linear-gradient(#ffd966,#f5c043);box-shadow:inset 0 0 3px rgba(0,0,0,.2)}
/* Ham */
.top-ham{width:26px;height:22px;border-radius:6px;background:linear-gradient(#f7b3c0,#e2889b);box-shadow:inset 0 0 3px rgba(0,0,0,.25)}
/* Sausage */
.top-sausage{width:18px;height:18px;border-radius:50%;background:radial-gradient(circle,#8a5a3a 0 8px,#5f3c25 9px 18px)}
/* Tomato */
.top-tomato{width:26px;height:26px;border-radius:50%;background:radial-gradient(circle,#ff6b6b 0 8px,#e64b4b 9px 26px);box-shadow:inset 0 0 3px rgba(0,0,0,.25)}
/* Bacon */
.top-bacon{width:28px;height:10px;border-radius:4px;background:linear-gradient(90deg,#b55c4c,#8f4438,#b55c4c)}
/* Basil */
.top-basil{width:26px;height:14px;border-radius:14px;background:#2f7c3d;transform:rotate(20deg)}
/* Jalape√±o */
.top-jalapeno{width:24px;height:24px;border:3px solid #1b8b34;border-radius:50%;background:transparent}
/* Corn */
.top-corn{width:16px;height:16px;border-radius:3px;background:#ffd54f}
/* Anchovy */
.top-anchovy{width:30px;height:8px;border-radius:3px;background:#6b7784}

/* Palette: name + ICON */
.topping-list{display:grid;grid-template-columns:1fr;gap:8px}
.topping{display:flex;align-items:center;gap:10px;padding:8px;border-radius:12px;background:#fafafa;box-shadow:var(--shadow);cursor:grab;border:1px solid #ffd0e4}
.topping .ico{width:24px;height:24px;border-radius:6px;display:inline-block}
.ico-cheese{background:linear-gradient(#fff7bf,#ffd66b)}
.ico-pepperoni{border-radius:50%;background:radial-gradient(circle,#b93939 0 8px,#8c1f1f 9px 24px)}
.ico-mushroom{background:linear-gradient(#e7d2b1,#c9ab81)}
.ico-pepper{border:3px solid #2da34a;border-radius:50%}
.ico-pineapple{background:linear-gradient(#ffd966,#f5c043)}
.ico-ham{background:linear-gradient(#f7b3c0,#e2889b)}
.ico-sausage{background:#8a5a3a;border-radius:50%}
.ico-tomato{background:#ff6b6b;border-radius:50%}
.ico-bacon{background:linear-gradient(90deg,#b55c4c,#8f4438)}
.ico-basil{background:#2f7c3d;border-radius:12px}
.ico-jalapeno{border:3px solid #1b8b34;border-radius:50%}
.ico-corn{background:#ffd54f}
.ico-anchovy{background:#6b7784}
.topping .name{font-weight:700}

.controls{display:flex;gap:10px;justify-content:center;margin-top:10px}
.feedback{min-height:24px;text-align:center;font-weight:700;color:#7a5b8b}
.order-list{list-style:none;padding:0;margin:0;display:grid;grid-template-columns:1fr;gap:6px}
.order-list li{display:flex;align-items:center;justify-content:space-between;padding:6px 8px;border:1px dashed #f3bfd5;border-radius:10px}
.order-notes{margin-top:8px;color:#7a5b8b;font-size:.95rem}

/* Transitions */
.fade-enter{animation:fadeIn .35s ease both}
.fade-exit{animation:fadeOut .28s ease both}
@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeOut{from{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(8px)}}

/* Responsive */
@media(max-width:1000px){.work-area.three{grid-template-columns:1fr}.palette{order:3}.order-card{order:1}.kitchen{order:2}}
